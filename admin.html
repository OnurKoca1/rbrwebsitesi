<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>RedBull Racing - Yönetim Paneli</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.0/font/bootstrap-icons.css">
    <link rel="stylesheet" href="css/style.css">
</head>
<body>
    <!-- Navigation -->
    <nav class="navbar navbar-expand-lg navbar-dark bg-dark fixed-top">
        <div class="container-fluid">
            <a class="navbar-brand" href="index.html">
                RedBull Racing
            </a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarNav">
                <ul class="navbar-nav ms-auto">
                    <li class="nav-item">
                        <a class="nav-link" href="index.html">Ana Sayfa</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link active" href="admin.html">Yönetim Paneli</a>
                    </li>
                </ul>
            </div>
        </div>
    </nav>

    <div class="container-fluid">
        <div class="row">
            <!-- Sidebar -->
            <nav class="col-md-3 col-lg-2 admin-sidebar px-3 py-4">
                <h5 class="mb-4">Yönetim Paneli</h5>
                <ul class="nav nav-pills flex-column">
                    <li class="nav-item mb-2">
                        <a class="nav-link active" href="#news" data-bs-toggle="tab">
                            <i class="bi bi-newspaper"></i> Haberler
                        </a>
                    </li>
                    <li class="nav-item mb-2">
                        <a class="nav-link" href="#products" data-bs-toggle="tab">
                            <i class="bi bi-bag"></i> Ürünler
                        </a>
                    </li>
                    <li class="nav-item mb-2">
                        <a class="nav-link" href="#standings" data-bs-toggle="tab">
                            <i class="bi bi-trophy"></i> Şampiyonluk Sıralaması
                        </a>
                    </li>
                </ul>
            </nav>

            <!-- Main Content -->
            <main class="col-md-9 ms-sm-auto col-lg-10 admin-content px-md-4 py-4">
                <div class="tab-content">
                    <!-- News Tab -->
                    <div class="tab-pane fade show active" id="news">
                        <div class="d-flex justify-content-between align-items-center mb-4">
                            <h2>Haber Yönetimi</h2>
                            <button class="btn btn-danger" data-bs-toggle="modal" data-bs-target="#addNewsModal">
                                <i class="bi bi-plus-circle"></i> Yeni Haber Ekle
                            </button>
                        </div>
                        <div class="card">
                            <div class="card-body">
                                <div class="table-responsive">
                                    <table class="table table-hover">
                                        <thead>
                                            <tr>
                                                <th>ID</th>
                                                <th>Başlık</th>
                                                <th>Tarih</th>
                                                <th>İşlemler</th>
                                            </tr>
                                        </thead>
                                        <tbody id="newsTableBody">
                                            <tr>
                                                <td colspan="5" class="text-center">Yükleniyor...</td>
                                            </tr>
                                        </tbody>
                                    </table>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Products Tab -->
                    <div class="tab-pane fade" id="products">
                        <div class="d-flex justify-content-between align-items-center mb-4">
                            <h2>Ürün Yönetimi</h2>
                            <button class="btn btn-danger" data-bs-toggle="modal" data-bs-target="#addProductModal">
                                <i class="bi bi-plus-circle"></i> Yeni Ürün Ekle
                            </button>
                        </div>
                        <div class="card">
                            <div class="card-body">
                                <div class="table-responsive">
                                    <table class="table table-hover">
                                        <thead>
                                            <tr>
                                                <th>ID</th>
                                                <th>Ürün Adı</th>
                                                <th>Fiyat</th>
                                                <th>Stok</th>
                                                <th>İşlemler</th>
                                            </tr>
                                        </thead>
                                        <tbody id="productsTableBody">
                                            <tr>
                                                <td colspan="5" class="text-center">Yükleniyor...</td>
                                            </tr>
                                        </tbody>
                                    </table>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Standings Tab -->
                    <div class="tab-pane fade" id="standings">
                        <div class="d-flex justify-content-between align-items-center mb-4">
                            <h2>Şampiyonluk Sıralaması</h2>
                            <button class="btn text-white" style="background-color: #0d6efd;" onclick="saveStandings()">
                                <i class="bi bi-save"></i> Kaydet
                            </button>
                        </div>
                        <div class="row">
                            <div class="col-md-6 mb-4">
                                <div class="card">
                                    <div class="card-header text-white" style="background-color: #0d6efd;">
                                        <h5 class="mb-0">Sürücüler Şampiyonası</h5>
                                    </div>
                                    <div class="card-body">
                                        <div id="driversStandingsAdmin">
                                            <div class="text-center">
                                                <div class="spinner-border text-danger" role="status">
                                                    <span class="visually-hidden">Yükleniyor...</span>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="col-md-6 mb-4">
                                <div class="card">
                                    <div class="card-header text-white" style="background-color: #0d6efd;">
                                        <h5 class="mb-0">Takımlar Şampiyonası</h5>
                                    </div>
                                    <div class="card-body">
                                        <div id="teamsStandingsAdmin">
                                            <div class="text-center">
                                                <div class="spinner-border text-danger" role="status">
                                                    <span class="visually-hidden">Yükleniyor...</span>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </main>
        </div>
    </div>

    <!-- Add News Modal -->
    <div class="modal fade" id="addNewsModal" tabindex="-1">
        <div class="modal-dialog modal-lg">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title">Yeni Haber Ekle</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
                </div>
                <div class="modal-body">
                    <form>
                        <div class="mb-3">
                            <label for="newsTitle" class="form-label">Başlık</label>
                            <input type="text" class="form-control" id="newsTitle" required>
                        </div>
                        <div class="mb-3">
                            <label for="newsContent" class="form-label">İçerik</label>
                            <textarea class="form-control" id="newsContent" rows="5" required></textarea>
                        </div>
                        <div class="mb-3">
                            <label for="newsImage" class="form-label">Görsel URL</label>
                            <input type="url" class="form-control" id="newsImage">
                        </div>
                    </form>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">İptal</button>
                    <button type="button" class="btn btn-danger" id="saveNewsBtn">Kaydet</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Add Product Modal -->
    <div class="modal fade" id="addProductModal" tabindex="-1">
        <div class="modal-dialog modal-lg">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title">Yeni Ürün Ekle</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
                </div>
                <div class="modal-body">
                    <form>
                        <div class="mb-3">
                            <label for="productName" class="form-label">Ürün Adı</label>
                            <input type="text" class="form-control" id="productName" required>
                        </div>
                        <div class="mb-3">
                            <label for="productPrice" class="form-label">Fiyat (₺)</label>
                            <input type="number" class="form-control" id="productPrice" min="0" required>
                        </div>
                        <div class="mb-3">
                            <label for="productStock" class="form-label">Stok</label>
                            <input type="number" class="form-control" id="productStock" min="0" required>
                        </div>
                        <div class="mb-3">
                            <label for="productImage" class="form-label">Görsel URL</label>
                            <input type="url" class="form-control" id="productImage">
                        </div>
                        <div class="mb-3">
                            <label for="productDescription" class="form-label">Açıklama</label>
                            <textarea class="form-control" id="productDescription" rows="3"></textarea>
                        </div>
                    </form>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">İptal</button>
                    <button type="button" class="btn btn-danger" id="saveProductBtn">Kaydet</button>
                </div>
            </div>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script src="js/auth.js"></script>
    <script>
        let editingNewsId = null;
        let editingProductId = null;
        
        // Tab switching
        document.querySelectorAll('[data-bs-toggle="tab"]').forEach(tab => {
            tab.addEventListener('shown.bs.tab', function(e) {
                const target = e.target.getAttribute('href');
                
                // Haberler sekmesine geçildiğinde listeyi yükle
                if (target === '#news') {
                    loadNews();
                }
                // Ürünler sekmesine geçildiğinde listeyi yükle
                if (target === '#products') {
                    loadProducts();
                }
                // Şampiyonluk sıralaması sekmesine geçildiğinde listeyi yükle
                if (target === '#standings') {
                    loadStandings();
                }
            });
            
            // İlk tıklamada da çalışsın
            tab.addEventListener('click', function() {
                const target = this.getAttribute('href');
                setTimeout(() => {
                    if (target === '#news') {
                        loadNews();
                    }
                    if (target === '#products') {
                        loadProducts();
                    }
                    if (target === '#standings') {
                        loadStandings();
                    }
                }, 100);
            });
        });
        
        // Sayfa yüklendiğinde haberleri yükle
        
        // Haberleri yükle
        async function loadNews() {
            try {
                const response = await fetch(`${API_URL}/news`);
                const news = await response.json();
                
                const tbody = document.getElementById('newsTableBody');
                tbody.innerHTML = '';
                
                if (news.length === 0) {
                    tbody.innerHTML = '<tr><td colspan="4" class="text-center">Henüz haber bulunmamaktadır.</td></tr>';
                    return;
                }
                
                news.forEach(item => {
                    const row = document.createElement('tr');
                    row.innerHTML = `
                        <td>${item.id}</td>
                        <td>${item.title}</td>
                        <td>${new Date(item.date).toLocaleDateString('tr-TR')}</td>
                        <td>
                            <button class="btn btn-sm btn-primary" onclick="editNews(${item.id})"><i class="bi bi-pencil"></i></button>
                            <button class="btn btn-sm btn-danger" onclick="deleteNews(${item.id})"><i class="bi bi-trash"></i></button>
                        </td>
                    `;
                    tbody.appendChild(row);
                });
            } catch (error) {
                console.error('Haberler yüklenirken hata:', error);
                document.getElementById('newsTableBody').innerHTML = '<tr><td colspan="4" class="text-center text-danger">Haberler yüklenirken bir hata oluştu.</td></tr>';
            }
        }
        
        // Haber ekle/düzenle
        document.getElementById('saveNewsBtn').addEventListener('click', async function() {
            const title = document.getElementById('newsTitle').value;
            const content = document.getElementById('newsContent').value;
            const image = document.getElementById('newsImage').value || 'images/news-1.jpg';
            
            if (!title || !content) {
                alert('Lütfen başlık ve içerik alanlarını doldurun.');
                return;
            }
            
            const newsData = {
                title,
                content,
                image,
                date: new Date().toISOString().split('T')[0],
                author: 'Admin'
            };
            
            try {
                if (editingNewsId) {
                    // Düzenleme
                    const response = await fetch(`${API_URL}/news/${editingNewsId}`, {
                        method: 'PUT',
                        headers: { 'Content-Type': 'application/json' },
                        body: JSON.stringify(newsData)
                    });
                    
                    if (response.ok) {
                        alert('Haber başarıyla güncellendi!');
                        bootstrap.Modal.getInstance(document.getElementById('addNewsModal')).hide();
                        loadNews();
                        resetForm();
                    }
                } else {
                    // Yeni ekleme
                    const response = await fetch(`${API_URL}/news`, {
                        method: 'POST',
                        headers: { 'Content-Type': 'application/json' },
                        body: JSON.stringify(newsData)
                    });
                    
                    if (response.ok) {
                        alert('Haber başarıyla eklendi!');
                        bootstrap.Modal.getInstance(document.getElementById('addNewsModal')).hide();
                        loadNews();
                        resetForm();
                    }
                }
            } catch (error) {
                console.error('Haber kaydedilirken hata:', error);
                alert('Haber kaydedilirken bir hata oluştu.');
            }
        });
        
        // Haber düzenle
        async function editNews(id) {
            try {
                const response = await fetch(`${API_URL}/news/${id}`);
                const news = await response.json();
                
                document.getElementById('newsTitle').value = news.title;
                document.getElementById('newsContent').value = news.content;
                document.getElementById('newsImage').value = news.image || '';
                
                editingNewsId = id;
                
                const modal = new bootstrap.Modal(document.getElementById('addNewsModal'));
                modal.show();
            } catch (error) {
                console.error('Haber yüklenirken hata:', error);
                alert('Haber yüklenirken bir hata oluştu.');
            }
        }
        
        // Haber sil
        async function deleteNews(id) {
            if (!confirm('Bu haberi silmek istediğinizden emin misiniz?')) {
                return;
            }
            
            try {
                const response = await fetch(`${API_URL}/news/${id}`, {
                    method: 'DELETE'
                });
                
                if (response.ok) {
                    alert('Haber başarıyla silindi!');
                    loadNews();
                }
            } catch (error) {
                console.error('Haber silinirken hata:', error);
                alert('Haber silinirken bir hata oluştu.');
            }
        }
        
        // Formu sıfırla
        function resetForm() {
            document.getElementById('newsTitle').value = '';
            document.getElementById('newsContent').value = '';
            document.getElementById('newsImage').value = '';
            editingNewsId = null;
        }
        
        // Modal kapandığında formu sıfırla
        document.getElementById('addNewsModal').addEventListener('hidden.bs.modal', function() {
            resetForm();
        });
        
        // Ürünleri yükle
        async function loadProducts() {
            try {
                const response = await fetch(`${API_URL}/products`);
                const products = await response.json();
                
                const tbody = document.getElementById('productsTableBody');
                tbody.innerHTML = '';
                
                if (products.length === 0) {
                    tbody.innerHTML = '<tr><td colspan="5" class="text-center">Henüz ürün bulunmamaktadır.</td></tr>';
                    return;
                }
                
                products.forEach(product => {
                    const row = document.createElement('tr');
                    row.innerHTML = `
                        <td>${product.id}</td>
                        <td>${product.name}</td>
                        <td>₺${product.price}</td>
                        <td>${product.stock || 0}</td>
                        <td>
                            <button class="btn btn-sm btn-primary" onclick="editProduct(${product.id})"><i class="bi bi-pencil"></i></button>
                            <button class="btn btn-sm btn-danger" onclick="deleteProduct(${product.id})"><i class="bi bi-trash"></i></button>
                        </td>
                    `;
                    tbody.appendChild(row);
                });
            } catch (error) {
                console.error('Ürünler yüklenirken hata:', error);
                document.getElementById('productsTableBody').innerHTML = '<tr><td colspan="5" class="text-center text-danger">Ürünler yüklenirken bir hata oluştu.</td></tr>';
            }
        }
        
        // Ürün ekle/düzenle
        document.getElementById('saveProductBtn').addEventListener('click', async function() {
            const name = document.getElementById('productName').value;
            const price = parseInt(document.getElementById('productPrice').value);
            const stock = parseInt(document.getElementById('productStock').value);
            const image = document.getElementById('productImage').value || 'images/product-default.jpg';
            const description = document.getElementById('productDescription').value || '';
            
            if (!name || !price || stock === undefined) {
                alert('Lütfen zorunlu alanları doldurun.');
                return;
            }
            
            const productData = {
                name,
                price,
                stock,
                image,
                description
            };
            
            try {
                if (editingProductId) {
                    // Düzenleme
                    const response = await fetch(`${API_URL}/products/${editingProductId}`, {
                        method: 'PUT',
                        headers: { 'Content-Type': 'application/json' },
                        body: JSON.stringify(productData)
                    });
                    
                    if (response.ok) {
                        alert('Ürün başarıyla güncellendi!');
                        bootstrap.Modal.getInstance(document.getElementById('addProductModal')).hide();
                        loadProducts();
                        resetProductForm();
                    }
                } else {
                    // Yeni ekleme
                    const response = await fetch(`${API_URL}/products`, {
                        method: 'POST',
                        headers: { 'Content-Type': 'application/json' },
                        body: JSON.stringify(productData)
                    });
                    
                    if (response.ok) {
                        alert('Ürün başarıyla eklendi!');
                        bootstrap.Modal.getInstance(document.getElementById('addProductModal')).hide();
                        loadProducts();
                        resetProductForm();
                    }
                }
            } catch (error) {
                console.error('Ürün kaydedilirken hata:', error);
                alert('Ürün kaydedilirken bir hata oluştu.');
            }
        });
        
        // Ürün düzenle
        async function editProduct(id) {
            try {
                const response = await fetch(`${API_URL}/products/${id}`);
                const product = await response.json();
                
                document.getElementById('productName').value = product.name;
                document.getElementById('productPrice').value = product.price;
                document.getElementById('productStock').value = product.stock || 0;
                document.getElementById('productImage').value = product.image || '';
                document.getElementById('productDescription').value = product.description || '';
                
                editingProductId = id;
                
                const modal = new bootstrap.Modal(document.getElementById('addProductModal'));
                modal.show();
            } catch (error) {
                console.error('Ürün yüklenirken hata:', error);
                alert('Ürün yüklenirken bir hata oluştu.');
            }
        }
        
        // Ürün sil
        async function deleteProduct(id) {
            if (!confirm('Bu ürünü silmek istediğinizden emin misiniz?')) {
                return;
            }
            
            try {
                const response = await fetch(`${API_URL}/products/${id}`, {
                    method: 'DELETE'
                });
                
                if (response.ok) {
                    alert('Ürün başarıyla silindi!');
                    loadProducts();
                }
            } catch (error) {
                console.error('Ürün silinirken hata:', error);
                alert('Ürün silinirken bir hata oluştu.');
            }
        }
        
        // Ürün formunu sıfırla
        function resetProductForm() {
            document.getElementById('productName').value = '';
            document.getElementById('productPrice').value = '';
            document.getElementById('productStock').value = '';
            document.getElementById('productImage').value = '';
            document.getElementById('productDescription').value = '';
            editingProductId = null;
        }
        
        // Modal kapandığında formu sıfırla
        document.getElementById('addProductModal').addEventListener('hidden.bs.modal', function() {
            resetProductForm();
        });
        
        // Şampiyonluk sıralamasını yükle
        async function loadStandings() {
            try {
                const response = await fetch(`${API_URL}/standings`);
                const standings = await response.json();
                
                // Sürücüler sıralaması
                const driversDiv = document.getElementById('driversStandingsAdmin');
                let driversHTML = '';
                standings.drivers.forEach((driver, index) => {
                    driversHTML += `
                        <div class="mb-3 p-3 border rounded">
                            <div class="row align-items-center">
                                <div class="col-2">
                                    <input type="number" class="form-control form-control-sm" id="driverPos${index}" value="${driver.position}" min="1">
                                </div>
                                <div class="col-6">
                                    <input type="text" class="form-control form-control-sm" id="driverName${index}" value="${driver.name}">
                                </div>
                                <div class="col-4">
                                    <input type="number" class="form-control form-control-sm" id="driverPoints${index}" value="${driver.points}" min="0">
                                </div>
                            </div>
                        </div>
                    `;
                });
                // Yeni sürücü ekleme butonu
                driversHTML += `
                    <button class="btn btn-sm btn-outline-primary w-100" onclick="addDriverRow()">
                        <i class="bi bi-plus"></i> Sürücü Ekle
                    </button>
                `;
                driversDiv.innerHTML = driversHTML;
                
                // Takımlar sıralaması
                const teamsDiv = document.getElementById('teamsStandingsAdmin');
                let teamsHTML = '';
                standings.teams.forEach((team, index) => {
                    teamsHTML += `
                        <div class="mb-3 p-3 border rounded">
                            <div class="row align-items-center">
                                <div class="col-2">
                                    <input type="number" class="form-control form-control-sm" id="teamPos${index}" value="${team.position}" min="1">
                                </div>
                                <div class="col-6">
                                    <input type="text" class="form-control form-control-sm" id="teamName${index}" value="${team.name}">
                                </div>
                                <div class="col-4">
                                    <input type="number" class="form-control form-control-sm" id="teamPoints${index}" value="${team.points}" min="0">
                                </div>
                            </div>
                        </div>
                    `;
                });
                // Yeni takım ekleme butonu
                teamsHTML += `
                    <button class="btn btn-sm btn-outline-primary w-100" onclick="addTeamRow()">
                        <i class="bi bi-plus"></i> Takım Ekle
                    </button>
                `;
                teamsDiv.innerHTML = teamsHTML;
            } catch (error) {
                console.error('Sıralama yüklenirken hata:', error);
                document.getElementById('driversStandingsAdmin').innerHTML = '<div class="alert alert-danger">Sıralama yüklenirken bir hata oluştu.</div>';
                document.getElementById('teamsStandingsAdmin').innerHTML = '<div class="alert alert-danger">Sıralama yüklenirken bir hata oluştu.</div>';
            }
        }
        
        // Sıralamayı kaydet
        async function saveStandings() {
            const driversDiv = document.getElementById('driversStandingsAdmin');
            const teamsDiv = document.getElementById('teamsStandingsAdmin');
            
            const drivers = [];
            const teams = [];
            
            // Sürücüleri topla
            driversDiv.querySelectorAll('.border.rounded').forEach((row) => {
                const posInput = row.querySelector('input[id^="driverPos"]');
                const nameInput = row.querySelector('input[id^="driverName"]');
                const pointsInput = row.querySelector('input[id^="driverPoints"]');
                
                if (posInput && nameInput && pointsInput) {
                    const pos = posInput.value;
                    const name = nameInput.value;
                    const points = pointsInput.value;
                    
                    if (pos && name && points) {
                        drivers.push({
                            position: parseInt(pos),
                            name: name,
                            points: parseInt(points)
                        });
                    }
                }
            });
            
            // Takımları topla
            teamsDiv.querySelectorAll('.border.rounded').forEach((row) => {
                const posInput = row.querySelector('input[id^="teamPos"]');
                const nameInput = row.querySelector('input[id^="teamName"]');
                const pointsInput = row.querySelector('input[id^="teamPoints"]');
                
                if (posInput && nameInput && pointsInput) {
                    const pos = posInput.value;
                    const name = nameInput.value;
                    const points = pointsInput.value;
                    
                    if (pos && name && points) {
                        teams.push({
                            position: parseInt(pos),
                            name: name,
                            points: parseInt(points)
                        });
                    }
                }
            });
            
            try {
                const response = await fetch(`${API_URL}/standings`, {
                    method: 'PUT',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify({ drivers, teams })
                });
                
                if (response.ok) {
                    alert('Şampiyonluk sıralaması başarıyla güncellendi!');
                    loadStandings();
                } else {
                    alert('Sıralama güncellenirken bir hata oluştu.');
                }
            } catch (error) {
                console.error('Sıralama kaydedilirken hata:', error);
                alert('Sıralama kaydedilirken bir hata oluştu.');
            }
        }
        
        // Yeni sürücü satırı ekle
        function addDriverRow() {
            const driversDiv = document.getElementById('driversStandingsAdmin');
            const currentRows = driversDiv.querySelectorAll('.border.rounded').length;
            const newRow = document.createElement('div');
            newRow.className = 'mb-3 p-3 border rounded';
            newRow.innerHTML = `
                <div class="row align-items-center">
                    <div class="col-2">
                        <input type="number" class="form-control form-control-sm" id="driverPos${currentRows}" value="${currentRows + 1}" min="1">
                    </div>
                    <div class="col-6">
                        <input type="text" class="form-control form-control-sm" id="driverName${currentRows}" placeholder="Sürücü Adı">
                    </div>
                    <div class="col-4">
                        <input type="number" class="form-control form-control-sm" id="driverPoints${currentRows}" value="0" min="0">
                    </div>
                </div>
            `;
            const addButton = driversDiv.querySelector('button');
            driversDiv.insertBefore(newRow, addButton);
        }
        
        // Yeni takım satırı ekle
        function addTeamRow() {
            const teamsDiv = document.getElementById('teamsStandingsAdmin');
            const currentRows = teamsDiv.querySelectorAll('.border.rounded').length;
            const newRow = document.createElement('div');
            newRow.className = 'mb-3 p-3 border rounded';
            newRow.innerHTML = `
                <div class="row align-items-center">
                    <div class="col-2">
                        <input type="number" class="form-control form-control-sm" id="teamPos${currentRows}" value="${currentRows + 1}" min="1">
                    </div>
                    <div class="col-6">
                        <input type="text" class="form-control form-control-sm" id="teamName${currentRows}" placeholder="Takım Adı">
                    </div>
                    <div class="col-4">
                        <input type="number" class="form-control form-control-sm" id="teamPoints${currentRows}" value="0" min="0">
                    </div>
                </div>
            `;
            const addButton = teamsDiv.querySelector('button');
            teamsDiv.insertBefore(newRow, addButton);
        }
        
        // Sayfa yüklendiğinde aktif sekmeye göre verileri yükle
        document.addEventListener('DOMContentLoaded', function() {
            loadNews();
            // Eğer ürünler sekmesi aktifse ürünleri de yükle
            const activeTab = document.querySelector('.nav-link.active');
            if (activeTab && activeTab.getAttribute('href') === '#products') {
                loadProducts();
            }
            if (activeTab && activeTab.getAttribute('href') === '#standings') {
                loadStandings();
            }
        });
    </script>
</body>
</html>

